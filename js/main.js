!function(n,t,e){function o(){r.fadeIn(),h.fadeOut(),l.fadeOut(),d.attr("href","./img/icon_auth.png")}function a(){r.fadeOut(),h.fadeIn(),l.fadeOut(),d.attr("href","./img/icon_attend.png")}function u(){r.fadeOut(),h.fadeOut(),l.fadeIn(),c("Now Working!"),d.attr("href","./img/icon_leave.png")}function c(n){i(),f.append(n+"<br>")}function i(){f.empty()}var d,f,r,h,l,p=($(n),new e.Util,new e.Calendar),v=!1;$(function(){d=$(".apple-touch-icon"),f=$(".message"),r=$(".authBtn"),h=$(".attendBtn"),l=$(".leaveBtn"),e.ua.isSP?$(".onlypc").remove():$(".onlysp").remove(),e.Calendar.Evt.on("haveAuthed",function(){r.fadeOut(),v=p.checkCookies(),v?u():a()}).on("shouldAuth",function(){o()}),r.on("click",p.handleAuthClick),h.on("click",function(){v||(p.postAttendEvent(),c("Do your best!"))}),e.Calendar.Evt.on("posteventdone",function(){v=!0,u()}),l.on("click",function(){v&&(p.postLeaveEvent(),c("Thanks for your hard work!"))}),e.Calendar.Evt.on("updateeventdone",function(){v=!1,a(),i()})}),n.apionload=function(){p.checkAuth()},n.dev={}}(this,document,App);