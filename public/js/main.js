!function(n,t,e){function o(){i.fadeIn(),l.fadeOut(),r.fadeOut()}function a(){i.fadeOut(),l.fadeIn(),r.fadeOut()}function u(){i.fadeOut(),l.fadeOut(),r.fadeIn(),c("Now Working!")}function c(n){d(),f.append(n+"<br>")}function d(){f.empty()}var f,i,l,r,v=($(n),new e.Util,new e.Calendar),h=!1;$(function(){f=$(".message"),i=$(".authBtn"),l=$(".attendBtn"),r=$(".leaveBtn"),e.ua.isSP?$(".onlypc").remove():$(".onlysp").remove(),e.Calendar.Evt.on("haveAuthed",function(){i.fadeOut(),h=v.checkCookies(),h?u():a()}).on("shouldAuth",function(){o()}),i.on("click",v.handleAuthClick),l.on("click",function(){h||(v.postAttendEvent(),c("Do your best!"))}),e.Calendar.Evt.on("posteventdone",function(){h=!0,u()}),r.on("click",function(){h&&(v.postLeaveEvent(),c("Thanks for your hard work!"))}),e.Calendar.Evt.on("updateeventdone",function(){h=!1,a(),d()})}),n.apionload=function(){v.checkAuth()},n.dev={}}(this,document,App);