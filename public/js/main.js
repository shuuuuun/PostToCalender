!function(n,e,t){function o(n){a(),u.append(n+"<br>")}function a(){u.empty()}var u,d,c,f,i=($(n),new t.Util,new t.Calendar),l=!1;$(function(){u=$(".message"),d=$(".authBtn"),c=$(".attendBtn"),f=$(".leaveBtn"),t.ua.isSP?$(".onlypc").remove():$(".onlysp").remove(),t.Calendar.Evt.on("haveAuthed",function(){d.fadeOut(),c.fadeIn()}).on("shouldAuth",function(){d.fadeIn(),c.fadeOut()}),d.on("click",i.handleAuthClick),c.on("click",function(){l||(i.postAttendEvent(),o("Do your best!"))}),t.Calendar.Evt.on("posteventdone",function(){l=!0,c.fadeOut(),f.fadeIn(),o("Now Working...")}),f.on("click",function(){l&&(i.postLeaveEvent(),o("Thanks for your hard work!"))}),t.Calendar.Evt.on("updateeventdone",function(){l=!1,f.fadeOut(),c.fadeIn(),a()})}),n.apionload=function(){i.checkAuth()},n.dev={}}(this,document,App);